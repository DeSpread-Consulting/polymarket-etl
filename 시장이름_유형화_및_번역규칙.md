# 폴리마켓 시장 이름 유형화 및 한국어 번역 규칙

> 분석 기준: Supabase `poly_events` 테이블 (총 416,657개 시장)
> 작성일: 2026-02-06

---

## 📊 1. 시장 이름 유형 분류

### 1.1 Crypto 카테고리

**주요 패턴:**
- "Up or Down" 형식: 60%
- "Will" 질문 형식: 40%
- 가격 범위 "between": 12%

**유형별 예시:**

| 유형 | 영문 예시 | 특징 |
|------|----------|------|
| **단기 등락 예측** | `Bitcoin Up or Down - October 1, 7:15PM-7:30PM ET` | 15분 단위 단기 예측 |
| **가격 도달 여부** | `Will the price of Ethereum be less than $4,000 on October 9?` | 특정 날짜의 가격 예측 |
| **가격 범위 예측** | `Will the price of Bitcoin be between $102,000 and $104,000 on October 5?` | 범위 내 가격 예측 |

**번역 규칙:**

```
패턴 1: "Up or Down" → "상승 또는 하락"
  예시: Bitcoin Up or Down - October 1, 7:15PM-7:30PM ET
  번역: 비트코인 상승 또는 하락 - 10월 1일 오후 7시 15분~7시 30분 (동부 표준시)

패턴 2: "Will the price of X be [조건]" → "X의 가격이 [조건]일까요?"
  예시: Will the price of Ethereum be less than $4,000 on October 9?
  번역: 이더리움 가격이 10월 9일에 4,000달러 미만일까요?

패턴 3: "between A and B" → "A와 B 사이"
  예시: Will the price be between $102,000 and $104,000?
  번역: 가격이 102,000달러와 104,000달러 사이일까요?
```

---

### 1.2 Politics 카테고리

**주요 패턴:**
- "Will" 질문 형식: 90%
- 물음표로 끝남: 98%
- 인물 중심 예측: 대부분

**유형별 예시:**

| 유형 | 영문 예시 | 특징 |
|------|----------|------|
| **정치 행동 예측** | `Will Trump deport 500,000-750,000 people?` | 정책 실행 여부 |
| **발언 예측** | `Will Trump say "Stupid person" this week?` | 특정 단어/표현 사용 여부 |
| **국제 관계** | `US strikes Iran by February 1, 2026?` | 국가 간 행동 예측 |
| **인사 발표** | `Will Trump announce Elon Musk to replace Kugler?` | 임명/인사 예측 |

**번역 규칙:**

```
패턴 1: "Will [주체] [동사] [목적어/조건]?" → "[주체]가 [목적어/조건]을 [동사]할까요?"
  예시: Will Trump deport 500,000-750,000 people?
  번역: 트럼프가 50만~75만 명을 추방할까요?

패턴 2: "Will [주체] say '[단어]'" → "[주체]가 '[단어]'라고 말할까요?"
  예시: Will Trump say "Stupid person" this week?
  번역: 트럼프가 이번 주 "멍청한 사람"이라고 말할까요?

패턴 3: "[주체] [동사] [목적어] by [날짜]?" → "[날짜]까지 [주체]가 [목적어]를 [동사]할까요?"
  예시: US strikes Iran by February 1, 2026?
  번역: 2026년 2월 1일까지 미국이 이란을 공습할까요?
```

---

### 1.3 Finance 카테고리

**주요 패턴:**
- "Will" 질문 형식: 44%
- "Anytime Touchdown" 형식: 22% (스포츠 베팅)
- "Up or Down" 형식: 4%

**유형별 예시:**

| 유형 | 영문 예시 | 특징 |
|------|----------|------|
| **주가 등락** | `Apple (AAPL) Up or Down on January 28?` | 일별 주가 예측 |
| **주가 목표치** | `Will S&P 500 (SPX) close over 5,550 on Friday?` | 특정 가격 도달 여부 |
| **스포츠 베팅** | `George Pickens: Anytime Touchdown` | 선수별 득점 예측 |
| **첫 득점 예측** | `First Touchdown: Javonte Williams` | 첫 득점 선수 예측 |

**번역 규칙:**

```
패턴 1: "[주식명] ([티커]) Up or Down on [날짜]?" → "[날짜] [주식명]([티커]) 상승 또는 하락?"
  예시: Apple (AAPL) Up or Down on January 28?
  번역: 1월 28일 애플(AAPL) 상승 또는 하락?

패턴 2: "Will [지수] close over [가격]" → "[지수]가 [가격] 이상으로 마감할까요?"
  예시: Will S&P 500 (SPX) close over 5,550 on Friday?
  번역: S&P 500(SPX)이 금요일에 5,550 이상으로 마감할까요?

패턴 3: "[선수명]: Anytime Touchdown" → "[선수명]: 언제든 터치다운"
  예시: George Pickens: Anytime Touchdown
  번역: 조지 피켄스: 언제든 터치다운

  ⚠️ 주의: 한국에서는 스포츠 베팅이 불법이므로 이 유형은 번역 제외 권장
```

---

### 1.4 Pop Culture 카테고리

**주요 패턴:**
- "Will" 질문 형식: 92%
- 물음표로 끝남: 100%
- "between" 범위 예측: 28%

**유형별 예시:**

| 유형 | 영문 예시 | 특징 |
|------|----------|------|
| **앨범 출시** | `New Rihanna Album before GTA VI?` | 출시 시기 비교 |
| **박스오피스 예측** | `Will "Predator: Badlands" Opening Weekend Box Office be less than 29m?` | 영화 수익 예측 |
| **주가 목표치** | `Will Netflix reach $175 in January?` | 엔터사 주가 예측 |
| **스트리밍 순위** | `Will EoO by Bad Bunny be the 3rd most streamed song?` | 음원 순위 예측 |
| **캐스팅 소식** | `Tom Hardy announced as next James Bond?` | 배우 캐스팅 예측 |

**번역 규칙:**

```
패턴 1: "New [아티스트] Album before [이벤트]?" → "[이벤트] 전에 [아티스트]의 새 앨범이 나올까요?"
  예시: New Rihanna Album before GTA VI?
  번역: GTA VI 전에 리한나의 새 앨범이 나올까요?

패턴 2: "Will '[영화명]' Opening Weekend Box Office be [조건]?" → "'[영화명]' 개봉 주말 박스오피스가 [조건]일까요?"
  예시: Will "Predator: Badlands" Opening Weekend Box Office be less than 29m?
  번역: "프레데터: 배드랜즈" 개봉 주말 박스오피스가 2,900만 달러 미만일까요?

패턴 3: "Will [회사] reach $[가격] in [월]?" → "[월]에 [회사]가 [가격]달러에 도달할까요?"
  예시: Will Netflix reach $175 in January?
  번역: 1월에 넷플릭스가 175달러에 도달할까요?

패턴 4: "[인물] announced as [역할]?" → "[인물]이 [역할]로 발표될까요?"
  예시: Tom Hardy announced as next James Bond?
  번역: 톰 하디가 차기 제임스 본드로 발표될까요?
```

---

### 1.5 Science 카테고리

**주요 패턴:**
- "Will" 질문 형식: 72%
- 물음표로 끝남: 84%
- ⚠️ 일부 오분류 포함 (스포츠 경기 등)

**유형별 예시:**

| 유형 | 영문 예시 | 특징 |
|------|----------|------|
| **기술 출시** | `Will Tesla launch a driverless Robotaxi service by August 31?` | 신기술 출시 여부 |
| **자율주행** | `Tesla launches unsupervised full self driving (FSD) by October 31?` | FSD 출시 예측 |
| **암호화폐 에어드랍** | `Rabby airdrop in Q3 2025?` | 에어드랍 시기 |
| **AI 모델 순위** | `Will Meituan have the second-best AI model at the end of January 2026?` | AI 성능 예측 |
| **날씨 예측** | `Will the highest temperature in Buenos Aires be 30°C on December 20?` | 특정 날씨 |

**번역 규칙:**

```
패턴 1: "Will [회사] launch [제품/서비스] by [날짜]?" → "[날짜]까지 [회사]가 [제품/서비스]를 출시할까요?"
  예시: Will Tesla launch a driverless Robotaxi service by August 31?
  번역: 8월 31일까지 테슬라가 무인 로보택시 서비스를 출시할까요?

패턴 2: "[제품] airdrop in [기간]?" → "[기간]에 [제품] 에어드랍이 있을까요?"
  예시: Rabby airdrop in Q3 2025?
  번역: 2025년 3분기에 Rabby 에어드랍이 있을까요?

패턴 3: "Will [회사] have the [순위] AI model" → "[회사]가 [순위] AI 모델을 보유할까요?"
  예시: Will Meituan have the second-best AI model at the end of January 2026?
  번역: 2026년 1월 말에 Meituan이 두 번째로 좋은 AI 모델을 보유할까요?

패턴 4: "Will the [기상 요소] be [값]?" → "[기상 요소]가 [값]일까요?"
  예시: Will the highest temperature in Buenos Aires be 30°C on December 20?
  번역: 12월 20일 부에노스아이레스의 최고 기온이 30°C일까요?
```

---

### 1.6 Sports 카테고리

**주요 패턴:**
- "vs" 대결 형식: 76%
- "O/U" (Over/Under) 베팅: 24%
- "Will" 질문 형식: 30%

**유형별 예시:**

| 유형 | 영문 예시 | 특징 |
|------|----------|------|
| **팀 대결** | `Blues vs. Blackhawks` | 승부 예측 |
| **총점 O/U** | `Games Total: O/U 3.5` | 총 득점 Over/Under |
| **점수차 예측** | `Spread: Red Wings (-1.5)` | 핸디캡 베팅 |
| **경기별 O/U** | `Red Wings vs. Sharks: O/U 6.5` | 경기당 총점 예측 |

**번역 규칙:**

```
⚠️ 경고: 한국에서는 체육진흥투표권법에 따라 스포츠토토(국내) 외의 스포츠 베팅이 불법입니다.
따라서 Sports 카테고리는 번역을 권장하지 않습니다.

만약 참고용으로 번역이 필요한 경우:

패턴 1: "[팀1] vs. [팀2]" → "[팀1] 대 [팀2]"
  예시: Blues vs. Blackhawks
  번역: 블루스 대 블랙호크스

패턴 2: "O/U [숫자]" → "오버/언더 [숫자]"
  예시: Games Total: O/U 3.5
  번역: 경기 총점: 오버/언더 3.5

패턴 3: "Spread: [팀] ([핸디캡])" → "스프레드: [팀] ([핸디캡])"
  예시: Spread: Red Wings (-1.5)
  번역: 스프레드: 레드윙스 (-1.5)
```

---

## 🎯 2. 번역 규칙 종합

### 2.1 일반 원칙

#### ✅ DO (권장 사항)

1. **의문형 유지**
   - 영문이 질문이면 한국어도 "~할까요?" 형태로 유지
   - 예: "Will X happen?" → "X가 발생할까요?"

2. **숫자 표기 통일**
   - 금액: "$1,000" → "1,000달러" (쉼표 유지)
   - 큰 단위: "$1m" → "100만 달러", "$1b" → "10억 달러"
   - 퍼센트: "50%" → "50%"

3. **날짜 현지화**
   - 미국식: "October 9" → 한국식: "10월 9일"
   - 시간대 표기: "ET" → "동부 표준시", "PT" → "태평양 표준시"
   - 요일: "Friday" → "금요일"

4. **고유명사 처리**
   - 인물명: 원음 표기 (예: Trump → 트럼프)
   - 회사명: 통용 표기 우선 (예: Apple → 애플, Netflix → 넷플릭스)
   - 브랜드: 원어 유지 or 통용 표기 (예: Bitcoin → 비트코인)

5. **간결함 유지**
   - 불필요한 조사 생략
   - 예: "~에 대해서" → "~에 대해"

#### ❌ DON'T (피해야 할 사항)

1. **직역체 지양**
   - 나쁜 예: "비트코인의 가격이 될 것인가?"
   - 좋은 예: "비트코인 가격이 ~일까요?"

2. **과도한 의역 금지**
   - 원문의 핵심 정보 보존
   - 조건/숫자는 정확히 번역

3. **불필요한 존댓말 과다 사용**
   - 간결한 "~할까요?" 형태 선호
   - "~하실까요?", "~되실까요?" 등은 과도

4. **베팅 용어 직역 금지**
   - "Over/Under" → "오버/언더" (차라리 영문 유지)
   - "Spread" → "스프레드" (의미 전달 우선)

---

### 2.2 카테고리별 번역 우선순위

| 카테고리 | 번역 우선순위 | 이유 |
|---------|-------------|------|
| **Crypto** | ⭐⭐⭐⭐⭐ 최우선 | 한국 커뮤니티 관심도 높음 |
| **Politics** | ⭐⭐⭐⭐ 높음 | 글로벌 정치 관심사 |
| **Pop Culture** | ⭐⭐⭐⭐ 높음 | 엔터/문화 콘텐츠 수요 |
| **Science** | ⭐⭐⭐ 중간 | 기술/과학 관심층 대상 |
| **Finance** | ⭐⭐ 낮음 | 스포츠 베팅 포함 (법적 이슈) |
| **Sports** | ⭐ 최하위 | 한국 법적 제약 (불법 도박) |

---

### 2.3 특수 표현 번역 사전

#### 일반 표현

| 영문 | 한국어 | 비고 |
|------|--------|------|
| Up or Down | 상승 또는 하락 | 주가/코인 등락 |
| Will | ~할까요? | 의문형 |
| between A and B | A와 B 사이 | 범위 |
| less than | ~미만 | 부등호 |
| greater than | ~초과 | 부등호 |
| more than | ~이상 | 부등호 |
| by [날짜] | [날짜]까지 | 기한 |
| on [날짜] | [날짜]에 | 특정일 |
| before [이벤트] | [이벤트] 전에 | 시간 비교 |

#### Crypto 전용

| 영문 | 한국어 | 비고 |
|------|--------|------|
| Bitcoin | 비트코인 | 고유명사 |
| Ethereum | 이더리움 | 고유명사 |
| the price of X | X 가격 / X의 가격 | 맥락에 따라 선택 |

#### Politics 전용

| 영문 | 한국어 | 비고 |
|------|--------|------|
| deport | 추방하다 | 이민 정책 |
| announce | 발표하다 | 공식 발표 |
| strike | 공습하다, 공격하다 | 군사 행동 |

#### Pop Culture 전용

| 영문 | 한국어 | 비고 |
|------|--------|------|
| Opening Weekend Box Office | 개봉 주말 박스오피스 | 영화 수익 |
| reach $X | X달러에 도달하다 | 주가 목표 |
| announced as | ~로 발표되다 | 캐스팅 소식 |

#### Science 전용

| 영문 | 한국어 | 비고 |
|------|--------|------|
| launch | 출시하다 | 제품 출시 |
| driverless | 무인, 자율주행 | 자동차 |
| airdrop | 에어드랍 | 암호화폐 |
| Q1/Q2/Q3/Q4 | 1분기/2분기/3분기/4분기 | 분기 표기 |

---

## 🔧 3. 구현 방법

### 3.1 현재 구현 상태

**파일:** `translate_titles.py`

```python
# OpenAI API 사용하여 영문 시장 이름을 한국어로 번역
# title → title_ko 필드에 저장
```

**번역 대상:**
- ✅ Crypto
- ✅ Politics
- ✅ Finance (일부)
- ✅ Pop Culture
- ✅ Science
- ❌ Sports (제외됨 - 법적 이슈)

---

### 3.2 번역 규칙 적용 방법

#### A. 프롬프트 기반 번역 (현재 방식)

OpenAI API에 상세한 번역 규칙을 프롬프트로 제공:

```python
def translate_title(title, category):
    prompt = f"""
다음 폴리마켓 시장 이름을 한국어로 번역해주세요.

카테고리: {category}
영문: {title}

번역 규칙:
1. 의문형 유지 (~할까요?)
2. 숫자 표기: $1,000 → 1,000달러
3. 날짜 현지화: October 9 → 10월 9일
4. 고유명사는 통용 표기 사용
5. 간결하고 자연스러운 한국어로

한국어 번역:
"""

    response = openai.ChatCompletion.create(
        model="gpt-4",
        messages=[{"role": "user", "content": prompt}]
    )

    return response.choices[0].message.content.strip()
```

#### B. 패턴 기반 번역 (제안)

정규식으로 패턴을 인식하고 템플릿 적용:

```python
import re

def translate_by_pattern(title, category):
    """패턴 기반 번역"""

    # Crypto: "Up or Down" 패턴
    pattern1 = r'(.+) Up or Down - (.+)'
    match1 = re.match(pattern1, title)
    if match1:
        asset, datetime = match1.groups()
        return f"{asset} 상승 또는 하락 - {localize_datetime(datetime)}"

    # Politics/Science: "Will X [verb] by [date]?" 패턴
    pattern2 = r'Will (.+) by (.+)\?'
    match2 = re.match(pattern2, title)
    if match2:
        action, date = match2.groups()
        return f"{localize_date(date)}까지 {translate_action(action)}?"

    # Pop Culture: "Will X reach $Y in [month]?" 패턴
    pattern3 = r'Will (.+) reach \$(.+) in (.+)\?'
    match3 = re.match(pattern3, title)
    if match3:
        company, price, month = match3.groups()
        return f"{localize_month(month)}에 {company}가 {price}달러에 도달할까요?"

    # 기본: OpenAI API로 폴백
    return translate_with_openai(title, category)
```

#### C. 하이브리드 방식 (추천)

1. **1단계**: 패턴 매칭으로 90% 처리 (빠름, 일관성 높음)
2. **2단계**: 패턴 미매칭 시 OpenAI API 사용 (유연함)
3. **3단계**: 사람 검수 (품질 보증)

---

### 3.3 번역 품질 관리

#### 자동 검증 규칙

```python
def validate_translation(original, translated, category):
    """번역 품질 자동 검증"""

    errors = []

    # 1. 물음표 일관성
    if original.endswith('?') and not translated.endswith('?'):
        errors.append("물음표 누락")

    # 2. 숫자 일관성
    original_numbers = re.findall(r'\d+(?:,\d+)*(?:\.\d+)?', original)
    translated_numbers = re.findall(r'\d+(?:,\d+)*(?:\.\d+)?', translated)
    if len(original_numbers) != len(translated_numbers):
        errors.append("숫자 개수 불일치")

    # 3. 길이 제한 (너무 길거나 짧으면 오번역 가능성)
    if len(translated) > len(original) * 2:
        errors.append("번역문이 과도하게 김")
    if len(translated) < len(original) * 0.3:
        errors.append("번역문이 과도하게 짧음")

    # 4. 금지 단어 체크
    forbidden = ['오버', '언더', '스프레드']  # 스포츠 베팅 용어
    if category == 'Sports' and any(word in translated for word in forbidden):
        errors.append("금지된 베팅 용어 포함")

    return errors
```

---

## 📈 4. 통계 및 권장 사항

### 4.1 카테고리별 시장 수 (예상 분포)

| 카테고리 | 비율 (추정) | 번역 권장 |
|---------|------------|----------|
| Sports | ~40% | ❌ 제외 |
| Crypto | ~20% | ✅ 최우선 |
| Politics | ~15% | ✅ 우선 |
| Finance | ~10% | ⚠️ 선별 (스포츠 베팅 제외) |
| Pop Culture | ~10% | ✅ 우선 |
| Science | ~5% | ✅ 포함 |

### 4.2 번역 작업 우선순위

1. **Phase 1 (최우선)**: Crypto + Politics + Pop Culture
   - 약 18만~20만 개 시장
   - 한국 커뮤니티 관심도 가장 높음

2. **Phase 2 (차순위)**: Science + Finance (선별)
   - 약 6만~8만 개 시장
   - Finance는 스포츠 베팅 제외하고 주가만 포함

3. **Phase 3 (제외)**: Sports
   - 약 16만~18만 개 시장
   - 한국 법적 제약으로 번역 및 서비스 제외

---

## 🛠️ 5. 실행 가이드

### 5.1 번역 스크립트 실행

```bash
# 기존 스크립트 (OpenAI API 사용)
python translate_titles.py

# 새로운 패턴 기반 스크립트 (제안)
python translate_titles_v2.py --categories "Crypto,Politics,Pop Culture"
```

### 5.2 Supabase 스키마 업데이트

```sql
-- title_ko 컬럼 추가 (이미 있다면 스킵)
ALTER TABLE poly_events
ADD COLUMN IF NOT EXISTS title_ko TEXT;

-- 번역 품질 메타데이터
ALTER TABLE poly_events
ADD COLUMN IF NOT EXISTS translation_method TEXT,  -- 'pattern', 'openai', 'manual'
ADD COLUMN IF NOT EXISTS translation_confidence FLOAT;  -- 0.0 ~ 1.0

-- 인덱스 추가
CREATE INDEX IF NOT EXISTS idx_poly_events_title_ko
ON poly_events(title_ko);
```

### 5.3 웹 UI 업데이트

```javascript
// app.js에서 title_ko 우선 표시
function renderEvent(event) {
    const displayTitle = event.title_ko || event.title;  // 한국어 우선

    return `
        <div class="event-card">
            <h3>${displayTitle}</h3>
            ${event.title_ko ? `<p class="original">${event.title}</p>` : ''}
        </div>
    `;
}
```

---

## 📝 6. 체크리스트

### 번역 작업 전

- [ ] 번역 대상 카테고리 확정 (Crypto, Politics, Pop Culture, Science 권장)
- [ ] Sports/Finance 중 스포츠 베팅 제외 처리
- [ ] OpenAI API 키 설정 확인
- [ ] Supabase 스키마 업데이트

### 번역 작업 중

- [ ] 패턴별 샘플 번역 테스트
- [ ] 자동 검증 규칙 적용
- [ ] 번역 품질 모니터링 (주기적 샘플 체크)

### 번역 작업 후

- [ ] 웹 UI에서 한국어 표시 확인
- [ ] 검색 기능에 title_ko 포함
- [ ] 사용자 피드백 수집 채널 마련
- [ ] 주기적 번역 업데이트 스케줄 설정 (신규 시장용)

---

## 🔗 관련 파일

- `/schema.sql` - 데이터베이스 스키마
- `/main.py` - Polymarket API 수집 스크립트
- `/translate_titles.py` - 번역 스크립트
- `/web/app.js` - 프론트엔드 코드
- `/web/config.js` - Supabase 연결 설정

---

**작성자 노트:**
이 문서는 416,657개 시장 데이터를 분석하여 작성되었습니다. 실제 번역 작업 시 샘플 테스트를 통해 규칙을 검증하고, 필요에 따라 수정하시기 바랍니다.
